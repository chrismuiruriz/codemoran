<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="theme-color" content="#fed300" />
  <title>Modern Mail | A Modern Delivery Service</title>
  <meta name="author" content="Chris Muiruri">
  <meta name="description" content="">
  <meta name="keywords" content="">

  <!-- CSS FILES -->
  <link rel="stylesheet" href="css/lineicons.css">
  <link rel="stylesheet" href="css/swiper.min.css">
  <!-- <link rel="stylesheet" href="css/odometer.min.css"> -->
  <link rel="stylesheet" href="css/fancybox.min.css">
  <link rel="stylesheet" href="css/bootstrap.min.css">
  <link rel="stylesheet" href="css/style.css">

  <link rel="stylesheet" href="https://unpkg.com/vue-select/dist/vue-select.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.0.4/tailwind.min.css">
  <link rel="stylesheet" href="css/index.processed.css">
</head>

<body>

  <div id="app">

    <div class="preloader"> <img src="images/logo.7ff27d68.png" alt="Image"> </div>
    <!-- end preloader -->
    <div class="page-transition"></div>
    <!-- end page-transition -->
    <aside class="side-widget">
      <div class="inner">
        <div class="logo"> <a href="index.html"><img src="images/logo.7ff27d68.png" srcset="images/logo.7ff27d68.png"
              alt="Image"></a> </div>
        <!-- end logo -->
        <div class="hide-mobile">
          <p>Modern Mail provides reliable local and regional delivery service.</p>
          <figure class="gallery"><a href="images/recent-news01.jpg" data-fancybox><img src="images/recent-news01.jpg"
                alt="Image"></a><a href="images/recent-news02.jpg" data-fancybox><img src="images/recent-news02.jpg"
                alt="Image"></a></figure>
          <h6 class="widget-title">CONTACT INFO</h6>
          <address class="address">
            <p>+254 (0) 23 00 006<br>
              <a href="#">sales@modernmail.co.ke</a>
            </p>
          </address>
          <h6 class="widget-title">FOLLOW US</h6>
          <ul class="social-media">
            <li><a href="#"><i class="lni lni-facebook-filled"></i></a></li>
            <li><a href="#"><i class="lni lni-twitter-original"></i></a></li>
            <li><a href="#"><i class="lni lni-instagram"></i></a></li>
            <li><a href="#"><i class="lni lni-youtube"></i></a></li>
            <li><a href="#"><i class="lni lni-pinterest"></i></a></li>
          </ul>
        </div>
        <!-- end hide-mobile -->
        <div class="show-mobile">
          <div class="custom-menu">
            <ul>
              <li><a href="#">En</a></li>
              <li><a href="#">Fr</a></li>
            </ul>
          </div>
          <!-- end custom-menu -->
          <div class="site-menu">
            <ul>
              <li><a href="#">Home</a></li>
              <li><a href="#shipment-form">Tracking</a></li>
              <li><a href="#">Contact</a></li>
              <li>
                <a href="./index.html" @click.prevent="logout" v-if="isUserLoggedIn">Logout</a>

                <a href="./login.html" v-if="!isUserLoggedIn" @click.prevent="openModal">Login</a>
              </li>
            </ul>
          </div>
          <!-- end site-menu -->
        </div>
        <!-- end show-mobile -->
        <small>&copy; 2021 Modern Mail | Delivery Services Company</small>
      </div>
      <!-- end inner -->
    </aside>
    <!-- end side-widget -->
    <div class="topbar">
      <div class="container">
        <div class="phone">Call Us Now: <a href="#"> +254 (0) 23 00 006 </a></div>
        <!-- end phone -->
        <div class="email"> Email: <a href="#">sales@modernmail.co.ke</a> </div>
        <!-- end email -->
        <div class="social-media"> <span>Follow us</span>
          <ul>
            <li><a href="#"><i class="lni lni-facebook-filled"></i> <span>Facebook</span></a></li>
            <li><a href="#"><i class="lni lni-twitter-original"></i> <span>Twitter</span></a></li>
            <li><a href="#"><i class="lni lni-linkedin-original"></i> <span>Linkedin</span></a></li>
          </ul>
        </div>
        <!-- end social-media -->
      </div>
      <!-- end container -->
    </div>
    <!-- end topbar -->
    <nav class="navbar">
      <div class="container">
        <div class="inner">
          <div class="logo"> <a href="index.html"> <img src="images/logo.7ff27d68.png" srcset="images/logo.7ff27d68.png"
                alt="Image"> </a> </div>
          <!-- end logo -->
          <div class="custom-menu">
            <ul>
              <li><a href="#">En</a></li>
              <li><a href="#">Fr</a></li>
            </ul>
          </div>
          <!-- end custom-menu -->
          <div class="site-menu">
            <ul>
              <li><a href="#">Home</a></li>
              <li><a href="#shipment-form">Tracking</a></li>
              <li><a href="#">Contact</a></li>
            </ul>
          </div>
          <!-- end site-menu -->
          <div class="hamburger-menu"> <span></span> <span></span> <span></span> </div>
          <!-- end hamburger-menu -->
          <div class="navbar-button">
            <a href="./index.html" @click.prevent="logout" v-if="isUserLoggedIn">LOGOUT</a>

            <a href="#" @click.prevent="openModal()" v-if="!isUserLoggedIn">LOGIN</a>
          </div>
          <!-- end navbar-button -->
        </div>
        <!-- end inner -->
      </div>
      <!-- end container -->
    </nav>
    <!-- end navbar -->
    <header class="slider" style="display: none;">
      <div class="main-slider">
        <div class="swiper-wrapper">
          <div class="swiper-slide">
            <div class="slide-image" data-background="images/slide01.jpg"></div>
            <!-- end slide-image -->
            <div class="container">
              <h1>Transport &amp; <br>
                Logistics</h1>
              <p>Modern Mail provides reliable local and regional delivery service.</p>
              <a href="#quote-form">GET A QUOTE</a>
            </div>
            <!-- end container -->
          </div>
          <!-- end swiper-slide -->
          <div class="swiper-slide">
            <div class="slide-image" data-background="images/slide02.jpg"></div>
            <!-- end slide-image -->
            <div class="container">
              <h1>Quickest &amp; Safe <br>
                Delivery</h1>
              <p>Modern Mail provides reliable local and regional delivery service.</p>
              <a href="#quote-form">GET A QUOTE</a>
            </div>
            <!-- end container -->
          </div>
          <!-- end swiper-slide -->
        </div>
        <!-- end swiper-wrapper -->
        <div class="controls">
          <div class="button-prev"><i class="lni lni-chevron-left"></i>
            <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="60"
              height="60" viewBox="0 0 30 30" xml:space="preserve">
              <circle fill="none" stroke="#fff" stroke-width="1" cx="15" cy="15" r="15"></circle>
            </svg>
          </div>
          <!-- end button-prev -->
          <div class="swiper-pagination"></div>
          <!-- end swiper-pagination -->
          <div class="button-next"><i class="lni lni-chevron-right"></i>
            <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="60"
              height="60" viewBox="0 0 30 30" xml:space="preserve">
              <circle fill="none" stroke="#fff" stroke-width="1" cx="15" cy="15" r="15"></circle>
            </svg>
          </div>
          <!-- end button-next -->
        </div>
        <!-- end controls -->
      </div>
      <!-- end main-slider -->
    </header>
    <!-- end slider -->
    <div class="section-note" style="display: none;">
      <div class="container">
        <h6>Modern Mail provides reliable local and regional <strong>delivery</strong> service.</h6>
      </div>
      <!-- end container -->
    </div>
    <section class="content-section no-bottom-spacing bottom-bg-half">
      <div class="container">
        <div class="row">
          <div class="col-md-5 col-xs-12" style="padding-top: 2rem;">
            <div class="section-title text-left">
              <h6>WELCOME TO MODERN MAIL</h6>
              <h2>We are a Cargo & Freight Company offering our services in Kenya, Tanzania, Uganda and Rwanda at very
                affordable rates.</h2>
              <div style="padding-right: 0;" class="side-content">
                <a style="margin-top: 1rem;" href="#shipment-form" class="custom-button smooth-scroll">Track your
                  package</a>
              </div>
            </div>
            <!-- end section-title -->
          </div>
          <!-- end col-12 -->
          <div class="col-md-7 col-xs-12" id="quote-form">
            <div class="calculator">
              <h6 style="margin-bottom: 2rem;">GET A QUOTE</h6>

              <!-- Tailwind here -->
              <div class="form-wrapper max-w-3xl bg-white shadow-sm p-4 md:p-6 md:py-8">

                <div class="bg-gray-200 md:p-4 p-3 md:p-4 mb-6" v-if="form.to.country !== ''">

                  <div class="flex justify-between bg-gray-200 mb-4">

                    <div class="md:w-6/12">
                      <h4 class="mb-1 font-bold">From:</h4>
                      <p class="text-sm">{{form.from.country.country_name}}</p>
                      <p class="text-sm">{{form.from.town ? form.from.town.town_name : ""}}</p>
                      <p class="text-sm">{{form.from.address}}</p>
                    </div>

                    <div class="md:w-6/12 ">
                      <h4 class="mb-1 font-bold">To:</h4>
                      <p class="text-sm">{{form.to.country.country_name}}</p>
                      <p class="text-sm">{{form.to.town ? form.to.town.town_name : ""}}</p>
                      <p class="text-sm">{{form.to.address}}</p>
                    </div>

                  </div>

                  <div class="bg-gray-200" v-if="form.packageType !== null">
                    <div class="mb-2">
                      <h4 class="mb-1 font-bold">{{form.packageType}}:</h4>
                      <div v-for="(item, index) in listItems" :key="index">
                        <span class="text-sm inline-block mr-1">{{item.description.description}}</span>
                        <span class="text-sm inline-block mr-1">{{item.qty ? item.qty: 1}} qty</span>
                        <span class="text-sm inline-block mr-1">{{item.weight}} kg</span>
                        <span class="text-sm">{{item.length}} x {{item.width}} x {{item.height}}</span>
                      </div>
                    </div>
                  </div>

                  <hr class="my-4 block"/>

                  <div v-if="total.quote_price">
                    <h4 class="mb-2 font-bold">Order Details:</h4>
                    <span v-if="total.weight" class="block mb-1">Item: {{listItems.length}}</span>
                    <span v-if="total.weight" class="block mb-1">Weight: {{total.weight}} kg</span>
                    <span v-if="total.quote_price">Total: {{total.quote_price}} KES</span>
                  </div>

                </div>

                <!-- FormSection 1 -->
                <form autocomplete="asdasddd" class="form-section" v-show="formSection == 1">

                  <h4 class="text-lg font-bold mb-4">From:</h4>
                  <div class="input-wrapper mb-4">
                    <label clas="block text-sm text-gray-600 dark:text-gray-400 mb-3">Country:</label>
                    <v-select @input="onCountryFromChange" autocomplete="asdasd" v-model="form.from.country"
                      placeholder="Select Country" :options="countries" label="country_name"></v-select>
                  </div>

                  <div class="input-wrapper mb-4">
                    <label clas="block text-sm text-gray-600 dark:text-gray-400 mb-3">Town:</label>
                    <v-select autocomplete="asdasdd" v-model="form.from.town" placeholder="Select Town" :options="towns"
                      label="town_name"></v-select>
                  </div>

                  <div class="input-wrapper mb-6">
                    <label clas="block text-sm text-gray-600 dark:text-gray-400 mb-3">Address:</label>
                    <input type="text" autocomplete="adhbtcajcd" v-model="form.from.address"
                      placeholder="Type to search..." ref="mapSearchInput"
                      class="map-autocomplete w-full px-3 py-2 placeholder-gray-300 border border-gray-300 focus:outline-none focus:ring focus:ring-indigo-100 focus:border-indigo-300 dark:bg-gray-700 dark:text-white dark:placeholder-gray-500 dark:border-gray-600 dark:focus:ring-gray-900 dark:focus:border-gray-500">
                  </div>

                  <div class="mb-6">
                    <button @click="showFormSection(2)" type="button"
                      class="px-4 py-2 text-white bg-blue focus:bg-indigo-600 focus:outline-none">Next</button>
                  </div>

                </form>

                <!-- FormSection 2 -->
                <div class="form-section" v-show="formSection == 2">

                  <h4 class="text-lg font-bold mb-4">To:</h4>
                  <div class="input-wrapper mb-4">
                    <label clas="block text-sm text-gray-600 dark:text-gray-400 mb-3">Country:</label>
                    <v-select @input="onCountryToChange" autocomplete="asdasdd" v-model="form.to.country"
                      placeholder="Select Town" :options="countries" label="country_name"></v-select>
                  </div>

                  <div class="input-wrapper mb-4">
                    <label clas="block text-sm text-gray-600 dark:text-gray-400 mb-3">Town:</label>
                    <v-select @input="onCountryToChange" autocomplete="asdasdda" v-model="form.to.town"
                      placeholder="Select Town" :options="towns_to" label="town_name"></v-select>
                  </div>

                  <div class="input-wrapper mb-6">
                    <label clas="block text-sm text-gray-600 dark:text-gray-400 mb-3">Address:</label>
                    <input type="text" autocomplete="adhbtcajj" v-model="form.to.address"
                      placeholder="e.g. 5th Avenue street" ref="mapSearchInput2"
                      class="w-full px-3 py-2 placeholder-gray-300 border border-gray-300 focus:outline-none focus:ring focus:ring-indigo-100 focus:border-indigo-300 dark:bg-gray-700 dark:text-white dark:placeholder-gray-500 dark:border-gray-600 dark:focus:ring-gray-900 dark:focus:border-gray-500">
                  </div>

                  <div class="mb-6">

                    <button @click="showFormSection(1)" type="button"
                      class="mr-4 px-4 py-2 text-white bg-gray-500 focus:bg-indigo-600 focus:outline-none">Back</button>

                    <button @click="showFormSection(3)" type="button"
                      class="px-4 py-2 text-white bg-blue focus:bg-indigo-600 focus:outline-none">Next</button>
                  </div>

                </div>

                <!-- FormSection 3 -->
                <div class="form-section" v-if="formSection == 3">

                  <div class="flex justify-between flex-wrap mb-6">

                    <label for="radio-document"
                      class="has-cursor relative flex-1 md:mr-4 px-3 py-2 placeholder-gray-300 border border-gray-300 focus:outline-none focus:ring focus:ring-indigo-100 focus:border-indigo-300 dark:bg-gray-700 dark:text-white dark:placeholder-gray-500 dark:border-gray-600 dark:focus:ring-gray-900 dark:focus:border-gray-500">
                      <span class="relative z-20">Document</span>
                      <input type="radio" value="Document" v-model="form.packageType" class="relative z-20"
                        id="radio-document" name="document-type" />
                      <i class="relative z-10"></i>
                      <div class="text-sm text-gray-400 mt-2 relative z-20 hidden md:inline-block">
                        Documents include legal, financial or business paperwork. Items with
                        monetary value are NOT considered a document shipment.</div>
                    </label>

                    <label for="radio-package"
                      class="has-cursor relative flex-1 md:ml-4 px-3 py-2 placeholder-gray-300 border border-gray-300 focus:outline-none focus:ring focus:ring-indigo-100 focus:border-indigo-300 dark:bg-gray-700 dark:text-white dark:placeholder-gray-500 dark:border-gray-600 dark:focus:ring-gray-900 dark:focus:border-gray-500">
                      <span class="relative z-20">Package</span>
                      <input type="radio" value="Package" v-model="form.packageType" class="relative z-20"
                        id="radio-package" name="document-type" />
                      <i class="relative z-10"></i>
                      <div class="text-sm text-gray-400 mt-2 relative z-20 hidden md:inline-block">
                        Packages are goods, merchandise or commodities for personal or
                        commercial purposes.</div>
                    </label>
                  </div>

                  <div class="list-wrapper mb-8">

                    <div class="list">
                      <div class="list-item flex flex-wrap md:flex-nowrap md:items-center md:justify-between"
                        v-for="(item, index) in listItems" v-key="index">
                        <div class="item-col mb-2 md:mb-0 md:w-auto w-full">
                          <label class="text-sm">Your {{form.packageType}}</label>
                          <v-select @input="loadPackageInfo(item.description, index)" :clearable="false"
                            class="md:w-auto w-full package-chooser" autocomplete="asdasdgdf" v-model="item.description"
                            :placeholder="`Select ${form.packageType}`" :options="packages" label="description">
                          </v-select>
                        </div>
                        <div class="item-col mb-2 md:mb-0 md:w-auto w-6/12 item-col-half pr-1 md:pr-0">
                          <label class="text-sm">Qty</label>
                          <input @input="updateTotalQty(item.qty)" type="number" v-model="item.qty" min="0"
                            class="list-item-input  md:w-auto w-full" placeholder="Quantity" />
                        </div>
                        <div class="item-col mb-2 md:mb-0 md:w-auto w-6/12 item-col-half pl-1 md:pl-0">
                          <label class="text-sm">Weight (kg)</label>
                          <input @input="updateTotalWeight(item.weight)" type="number" v-model="item.weight" min="0"
                            class="list-item-input  md:w-auto w-full" placeholder="Weight" />
                        </div>
                        <div class="item-col mb-2 md:mb-0 md:w-auto w-4/12 item-col-third pl-1 md:pl-0">
                          <label class="text-sm">L</label>
                          <input type="number" v-model="item.length" min="0" class="list-item-input"
                            placeholder="Length" />
                        </div>
                        <div class="item-col mb-2 md:mb-0 md:w-auto w-4/12 item-col-third px-1 md:px-0">
                          <label class="text-sm">W</label>
                          <input type="number" v-model="item.width" min="0" class="list-item-input"
                            placeholder="Width" />
                        </div>
                        <div class="item-col mb-2 md:mb-0 md:w-auto w-4/12 item-col-third pr-1 md:pr-0">
                          <label class="text-sm">H</label>
                          <input type="number" v-model="item.height" min="0" class="list-item-input"
                            placeholder="Height" />
                        </div>
                        <div class="w-full md:w-auto item-col mb-2 md:mb-0 ">
                          <label class="hidden invisible md:block">A</label>
                          <button type="button" @click="removeListItem(index)"><span
                              class="hidden md:inline-block">&#10006;</span> <span
                              class="text-sm md:hidden text-red-600">Delete</span></button>
                        </div>
                      </div>

                      <div class="items-center md:flex md:justify-between py-4">

                        <div class="font-large-bold md:flex md:justify-between package-total">
                          <div class="label">Total</div>
                          <div class="quantity">{{total.quantity}}</div>
                          <div class="weight">{{total.weight}} kg</div>
                        </div>

                        <div><button class="outline-none" @click="addNewListItemRow()">+ Add
                            another package</button></div>
                      </div>
                    </div>

                    <div class="mb-6 mt-4">

                      <button @click="showFormSection(2)" type="button"
                        class="mr-4 px-4 py-2 text-white bg-gray-500 focus:bg-indigo-600 focus:outline-none">Back</button>

                      <button type="button" @click="getQuote"
                        class="px-4 py-2 text-white bg-blue focus:bg-indigo-600 focus:outline-none">Get
                        Quote</button>
                    </div>

                  </div>

                </div>

                <!-- FormSection 4 -->
                <div class="form-section" v-if="formSection == 4">

                  <div class="hidden">
                    <h4 class="text-lg font-bold mb-4 inline-block mr-4">I want to send my shipment
                      on:</h4>
                    <input type="date" :max="getMaxDate()" :min="getMinDate()" v-model="form.shippingDate"
                      class="w-auto px-3 py-2 placeholder-gray-300 border border-gray-300 focus:outline-none focus:ring focus:ring-indigo-100 focus:border-indigo-300 dark:bg-gray-700 dark:text-white dark:placeholder-gray-500 dark:border-gray-600 dark:focus:ring-gray-900 dark:focus:border-gray-500" />
                  </div>

                  <div class="delivery-wrapper">

                    <div class="delivery-options py-4">
                      <div class="rounded-md border border-gray-200" v-for="(option, index) in deliveryOptions"
                        v-key="index">
                        <h1 class="p-4 text-center font-bold">Your Quote</h1>
                        <div class="bg-gray-200 p-2 md:flex justify-between items-center h-w-b-b">
                          <div>Estimated delivery date</div>
                          <div>Tue, 30 April, 2021</div>
                        </div>
                        <div class="bg-gray-200 p-2 md:flex justify-between items-center">
                          <div>Total Charge</div>
                          <div class="text-2xl font-bold">{{total.quote_price}} KES</div>
                        </div>
                        <div class="p-3">
                          <div class="hidden">
                            <h4 class="py-2">Hide details</h4>
                            <div>
                              <div class="md:flex md:justify-between md:items-center">
                                <span>Transportation Charges:
                                </span><span>{{option.details.transportation_charges}}</span>
                              </div>
                              <div class="md:flex md:justify-between md:items-center">
                                <span>Discount:</span>
                                <span>{{option.details.discount}}</span>
                              </div>
                              <div class="md:flex md:justify-between md:items-center">
                                <span>VAT:</span> <span>{{option.details.vat}}</span>
                              </div>
                              <div class="md:flex md:justify-between md:items-center">
                                <span>VAT:</span> <span>{{option.details.total}}</span>
                              </div>
                            </div>
                          </div>
                          <span class="line block my-3"></span>

                          <button type="button" @click="showFormSection(5)"
                            class="my-2 w-full px-4 py-2 text-white bg-blue focus:bg-indigo-600 focus:outline-none">Make
                            Order Now</button>

                          <span class="line block my-3"></span>

                          <ul class="mb-6">
                            <li class="block mb-1 text-sm" v-for="(tip, i) in option.tips" :key="i">
                              <span>&#10003; </span>{{tip}}<span></span>
                            </li>
                          </ul>

                          <div class="mb-6">
                            <button @click="showFormSection(3)" type="button"
                              class="mr-4 px-4 py-2 text-white bg-gray-500 focus:bg-indigo-600 focus:outline-none">Back</button>
                          </div>
                        </div>
                      </div>
                    </div>

                  </div>

                </div>

                <!-- FormSection 5 -->
                <form method="post" @submit.prevent="makeOrder()" class="form-section" v-show="formSection == 5">

                  <div v-if="!isUserLoggedIn">

                    <h4 class="mb-4">Login to make your order</h4>

                    <div class="mb-6">
                      <button type="button" @click="openModal('login')"
                        class="px-4 py-2 text-white bg-blue focus:bg-indigo-600 mr-4 focus:outline-none">Login</button>


                      <button type="button" @click="openModal('register')"
                        class="px-4 py-2 text-white bg-blue focus:bg-indigo-600 focus:outline-none">Create
                        account</button>
                    </div>

                  </div>

                  <div v-if="isUserLoggedIn">

                    <div v-if="!orderFormSuccess">

                      <h4 class="text-lg font-bold mb-4">Personal details:</h4>

                      <div class="md:flex md:justify-between">

                        <div class="input-wrapper mb-2 md:flex-1 md:p-2">
                          <label clas="block text-sm text-gray-600 dark:text-gray-400 mb-3">Full Name:</label>
                          <input required v-model="orderRequestData.customer.customer_name" type="text"
                            autocomplete="adhbtcajjyd" placeholder="e.g. John Balala"
                            class="w-full px-3 py-2 placeholder-gray-300 border border-gray-300 focus:outline-none focus:ring focus:ring-indigo-100 focus:border-indigo-300 dark:bg-gray-700 dark:text-white dark:placeholder-gray-500 dark:border-gray-600 dark:focus:ring-gray-900 dark:focus:border-gray-500">
                        </div>

                        <div class="input-wrapper mb-2 md:flex-1 md:p-2">
                          <label clas="block text-sm text-gray-600 dark:text-gray-400 mb-3">Phone Number:</label>
                          <input required v-model="orderRequestData.customer.customer_phone_number" type="tel"
                            autocomplete="adhbtcajjydx" placeholder="e.g. 0722124345"
                            class="w-full px-3 py-2 placeholder-gray-300 border border-gray-300 focus:outline-none focus:ring focus:ring-indigo-100 focus:border-indigo-300 dark:bg-gray-700 dark:text-white dark:placeholder-gray-500 dark:border-gray-600 dark:focus:ring-gray-900 dark:focus:border-gray-500">
                        </div>

                      </div>

                      <div class="md:flex md:justify-between">

                        <div class="input-wrapper mb-6 md:flex-1 md:p-2">
                          <label clas="block text-sm text-gray-600 dark:text-gray-400 mb-3">National ID:</label>
                          <input required v-model="orderRequestData.customer.customer_id_number" type="tel"
                            autocomplete="adhbtcajjydx" placeholder="e.g. 22124345"
                            class="w-full px-3 py-2 placeholder-gray-300 border border-gray-300 focus:outline-none focus:ring focus:ring-indigo-100 focus:border-indigo-300 dark:bg-gray-700 dark:text-white dark:placeholder-gray-500 dark:border-gray-600 dark:focus:ring-gray-900 dark:focus:border-gray-500">
                        </div>

                        <div class="input-wrapper mb-6 md:flex-1 md:p-2">
                          <label clas="block text-sm text-gray-600 dark:text-gray-400 mb-3">Street Address:</label>
                          <input required v-model="orderRequestData.customer.customer_street_address" type="text"
                            autocomplete="adhbtcajjydx" placeholder="e.g. Lower Kabete, Kikuyu"
                            class="w-full px-3 py-2 placeholder-gray-300 border border-gray-300 focus:outline-none focus:ring focus:ring-indigo-100 focus:border-indigo-300 dark:bg-gray-700 dark:text-white dark:placeholder-gray-500 dark:border-gray-600 dark:focus:ring-gray-900 dark:focus:border-gray-500">
                        </div>

                      </div>

                      <h4 class="text-lg font-bold mb-4">Recipient details:</h4>

                      <div class="md:flex md:justify-between">

                        <div class="input-wrapper mb-2 md:flex-1 md:p-2">
                          <label clas="block text-sm text-gray-600 dark:text-gray-400 mb-3">Full Name:</label>
                          <input required v-model="orderRequestData.recipient.recipient_name" type="text"
                            autocomplete="adhbtcajjyd" placeholder="e.g. John Balala"
                            class="w-full px-3 py-2 placeholder-gray-300 border border-gray-300 focus:outline-none focus:ring focus:ring-indigo-100 focus:border-indigo-300 dark:bg-gray-700 dark:text-white dark:placeholder-gray-500 dark:border-gray-600 dark:focus:ring-gray-900 dark:focus:border-gray-500">
                        </div>

                      </div>

                      <div class="md:flex md:justify-between">

                        <div class="input-wrapper mb-2 md:flex-1 md:p-2">
                          <label clas="block text-sm text-gray-600 dark:text-gray-400 mb-3">Phone Number:</label>
                          <input required v-model="orderRequestData.recipient.recipient_phone_number" type="tel"
                            autocomplete="adhbtcajjydx" placeholder="e.g. 0722124345"
                            class="w-full px-3 py-2 placeholder-gray-300 border border-gray-300 focus:outline-none focus:ring focus:ring-indigo-100 focus:border-indigo-300 dark:bg-gray-700 dark:text-white dark:placeholder-gray-500 dark:border-gray-600 dark:focus:ring-gray-900 dark:focus:border-gray-500">
                        </div>

                        <div class="input-wrapper mb-6 md:flex-1 md:p-2">
                          <label clas="block text-sm text-gray-600 dark:text-gray-400 mb-3">National ID:</label>
                          <input required v-model="orderRequestData.recipient.customer_id_number" type="tel"
                            autocomplete="adhbtcajjydx" placeholder="e.g. 22124345"
                            class="w-full px-3 py-2 placeholder-gray-300 border border-gray-300 focus:outline-none focus:ring focus:ring-indigo-100 focus:border-indigo-300 dark:bg-gray-700 dark:text-white dark:placeholder-gray-500 dark:border-gray-600 dark:focus:ring-gray-900 dark:focus:border-gray-500">
                        </div>
                      </div>

                      <div class="mb-6"></div>

                    </div>

                    <div role="alert" class="mb-6" v-if="orderFormSubmitted">
                      <div
                        :class="{'border rounded-b px-4 py-3':true, 'border-red-400 bg-red-100 text-red-700':orderFormHasError, 'border-green-400 bg-green-100 text-green-700':orderFormSuccess}">
                        <p v-html="orderFormMessage"></p>
                      </div>
                    </div>

                    <div class="mb-6" v-if="!orderFormSuccess">

                      <button @click="showFormSection(4)" type="button"
                        class="mr-4 px-4 py-2 text-white bg-gray-500 focus:bg-indigo-600 focus:outline-none">Back</button>

                      <button type="submit"
                        class="px-4 py-2 text-white bg-blue focus:bg-indigo-600 focus:outline-none">Submit
                        Order</button>
                    </div>

                  </div>

                </form>

                <!-- FormSection 4 -->
                <div class="form-section" v-if="formSection == 6">

                  <div>
                    <h4 class="text-lg font-bold mb-4 inline-block mr-4">Your order has been submitted successfully</h4>
                  </div>

                  <div class="delivery-wrapper">

                    <div class="delivery-options py-4">
                      <div class="rounded-md border border-gray-200">
                        <h1 class="p-2 font-bold">Order Detais</h1>
                        <div class="bg-gray-200 p-2 md:flex justify-between items-center h-w-b-b">
                          <div>Order ID</div>
                          <div>#1234</div>
                        </div>
                        <div class="bg-gray-200 p-2 md:flex justify-between items-center">
                          <div>Weight</div>
                          <div class="text-xl font-bold">{{total.weight}} kg</div>
                        </div>
                        <div class="bg-gray-200 p-2 md:flex justify-between items-center">
                          <div>Total</div>
                          <div class="text-xl font-bold">{{total.quote_price}} KES</div>
                        </div>
                        <div class="p-3">
                          <div class="hidden">
                            <h4 class="py-2">Hide details</h4>
                            <div>
                              <div class="md:flex md:justify-between md:items-center">
                                <span>Transportation Charges:
                                </span><span>1200 KES</span>
                              </div>
                            </div>
                          </div>
                          <span class="line block my-3"></span>

                          <button type="button"
                            class="my-2 w-full px-4 py-2 text-white bg-blue focus:bg-indigo-600 focus:outline-none">Track
                            your order</button>

                          <span class="line block my-3"></span>

                          <ul class="mb-6">
                            <li class="block mb-1 text-sm"><span>✓ </span>No account required<span></span></li>
                            <li class="block mb-1 text-sm"><span>✓ </span>Simple pricing based on free DHL envelopes and
                              boxes<span></span></li>
                            <li class="block mb-1 text-sm"><span>✓ </span>Ideal for single parcels<span></span></li>
                            <li class="block mb-1 text-sm"><span>✓ </span>Convenient opening hours<span></span></li>
                            <li class="block mb-1 text-sm"><span>✓ </span>Delivery notifications available<span></span>
                            </li>
                          </ul>

                        </div>
                      </div>
                    </div>

                  </div>

                </div>


              </div>

              <!-- end row inner -->
            </div>
            <!-- end calculator -->
          </div>
          <!-- end col-12 -->
        </div>
        <!-- end row -->
      </div>
      <!-- end container -->
    </section>
    <!-- end content-section -->

    <!-- end section-note -->
    <section class="content-section" id="shipment-form">
      <div class="container">
        <div class="row">
          <div class="col-lg-5">
            <figure class="video-thumb"> <img src="images/video-thumb.jpg" alt="Image"> <a href="videos/video01.mp4"
                data-fancybox>Play Button</a> </figure>
            <!-- end video-thumb -->
          </div>
          <!-- end col-5 -->
          <div class="col-lg-7">
            <div class="track-shipping-form">
              <div class="inner">
                <h3>Track your package</h3>
                <div class="form-group half">
                  <input type="radio" checked name="track">
                  Shipping number
                </div>
                <!-- end form-group -->
                <div class="form-group half">
                  <input type="radio" name="track">
                  Customer reference
                </div>
                <!-- end form-group -->
                <div class="form-group">
                  <input type="text" placeholder="Shipping Number"
                    class="w-full px-3 py-2 placeholder-gray-300 border border-gray-300 focus:outline-none focus:ring focus:ring-indigo-100 focus:border-indigo-300 dark:bg-gray-700 dark:text-white dark:placeholder-gray-500 dark:border-gray-600 dark:focus:ring-gray-900 dark:focus:border-gray-500">
                </div>
                <!-- end form-group -->
                <div class="form-group">
                  <button type="submit" class="px-4 py-2 text-blue bg-white focus:bg-indigo-600 focus:outline-none"><i
                      class="lni lni-search-alt"></i> SEARCH</button>
                </div>
                <!-- end form-group -->
              </div>
              <!-- end inner -->
            </div>
            <!-- end track-shipping-form -->
          </div>
          <!-- end col-7 -->
        </div>
        <!-- end row -->
      </div>
      <!-- end container -->
    </section>
    <!-- end content-section -->
    <section class="content-section no-spacing">
      <div class="container">
        <div class="row align-items-center">
          <div class="col-lg-7">
            <div class="side-content">
              <h2>Worldwide Logistics,
                Air Freight Forwarding,
                Road Haulage.</h2>
              <p>Modern Mail is a local and regional delivery service. Usually concentrate on
                delivering
                small and large shipments. By sending a shipment by courier, the sender ensures that it
                reaches it's destination within 24 hours. </p>
              <a href="#quote-form" class="custom-button">Get a Quote</a>
            </div>
            <!-- end side-content -->
          </div>
          <!-- end col-7 -->
          <div class="col-lg-5">
            <figure class="side-image"> <img src="images/side-image01.jpg" alt="Image"> </figure>
            <!-- end side-image -->
          </div>
          <!-- end col-5 -->
        </div>
        <!-- end row -->
      </div>
      <!-- end container -->
    </section>
    <!-- end content-section -->
    <section class="content-section">
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-lg-4 col-md-6">
            <div class="icon-box">
              <div class="inner">
                <figure><img src="images/icon01.png" alt="Image"></figure>
                <h6>Leadership</h6>
                <p>Experts who have extensive,
                  hands-on experience in supply
                  chain management</p>
                <a href="#" class="custom-link">Connect with an Expert</a>
              </div>
              <!-- end inner -->
            </div>
            <!-- end icon-box -->
          </div>
          <!-- end col-4 -->
          <div class="col-lg-4 col-md-6">
            <div class="icon-box">
              <div class="inner">
                <figure><img src="images/icon02.png" alt="Image"></figure>
                <h6>Technology</h6>
                <p>innovative and varied use of
                  technology on the road, ocean,
                  railways, in the air.</p>
                <a href="#" class="custom-link">Connect with an Expert</a>
              </div>
              <!-- end inner -->
            </div>
            <!-- end icon-box -->
          </div>
          <!-- end col-4 -->
          <div class="col-lg-4 col-md-6">
            <div class="icon-box">
              <div class="inner">
                <figure><img src="images/icon03.png" alt="Image"></figure>
                <h6>Solution</h6>
                <p>Global leaders in intermodal,
                  less-than-truckload, supply
                  chain management. </p>
                <a href="#" class="custom-link">Connect with an Expert</a>
              </div>
              <!-- end inner -->
            </div>
            <!-- end icon-box -->
          </div>
          <!-- end col-4 -->
        </div>
        <!-- end row -->
      </div>
      <!-- end container -->
    </section>
    <!-- end content-section -->
    <section class="content-section" data-background="#f9f7ef" style="display: none;">
      <div class="container">
        <div class="row">
          <div class="col-12">
            <div class="section-title">
              <figure><img src="images/section-title-shape.png" alt="Image"></figure>
              <h2>Global supply chain solutions</h2>
              <p>Dedicated specialists taking care of your products</p>
            </div>
            <!-- end section-title -->
          </div>
          <!-- end col-12 -->
          <div class="col-lg-3">
            <div class="solution-box">
              <figure><img src="images/solution-image01.jpg" alt="Image">
                <figcaption> <small>Solutions</small>
                  <h6>Food & Beverage</h6>
                  <a href="#">Discover More</a>
                </figcaption>
              </figure>
            </div>
            <!-- end solution-box -->
          </div>
          <!-- end col-3 -->
          <div class="col-lg-3">
            <div class="solution-box">
              <figure><img src="images/solution-image02.jpg" alt="Image">
                <figcaption> <small>Solutions</small>
                  <h6>Global 4PL</h6>
                  <a href="#">Discover More</a>
                </figcaption>
              </figure>
            </div>
            <!-- end solution-box -->
          </div>
          <!-- end col-3 -->
          <div class="col-lg-6">
            <div class="solution-box">
              <figure><img src="images/solution-image03.jpg" alt="Image">
                <figcaption> <small>Solutions</small>
                  <h6>Consumer Packaged Goods</h6>
                  <a href="#">Discover More</a>
                </figcaption>
              </figure>
            </div>
            <!-- end solution-box -->
          </div>
          <!-- end col-6 -->
          <div class="col-lg-4 offset-lg-2">
            <div class="solution-box">
              <figure><img src="images/solution-image04.jpg" alt="Image">
                <figcaption> <small>Solutions</small>
                  <h6>Transportation</h6>
                  <a href="#">Discover More</a>
                </figcaption>
              </figure>
            </div>
            <!-- end solution-box -->
          </div>
          <!-- end col-4 -->
          <div class="col-lg-4">
            <div class="solution-box">
              <figure><img src="images/solution-image05.jpg" alt="Image">
                <figcaption> <small>Solutions</small>
                  <h6>Retails</h6>
                  <a href="#">Discover More</a>
                </figcaption>
              </figure>
            </div>
            <!-- end solution-box -->
          </div>
          <!-- end col-3 -->
          <div class="col-lg-2">
            <div class="solution-button"> <a href="#"><i class="lni lni-chevron-right"></i></a>
              <small>DISCOVER<br>
                ALL SOLUTIONS</small>
            </div>
            <!-- end solution-button -->
          </div>
          <!-- end col-2 -->
        </div>
        <!-- end row -->
      </div>
      <!-- end container -->
    </section>
    <!-- end content-section -->
    <section class="content-section no-spacing" style="display: none;">
      <div class="container">
        <div class="row align-items-center no-gutters">
          <div class="col-lg-6">
            <div class="side-services">
              <h6>Services</h6>
              <h2>Quality delivered <br>
                as standard </h2>
              <ul>
                <li><a href="#">Forwarding <i class="lni lni-chevron-right"></i></a></li>
                <li><a href="#">Supply Chain <i class="lni lni-chevron-right"></i></a></li>
                <li><a href="#">Outsourcing <i class="lni lni-chevron-right"></i></a></li>
                <li><a href="#">Technology <i class="lni lni-chevron-right"></i></a></li>
              </ul>
              <a href="#" class="custom-link">View All Services</a>
            </div>
            <!-- end side-services -->
          </div>
          <!-- end col-6 -->
          <div class="col-lg-6">
            <figure class="side-image full-right">
              <div class="info-box">
                <figure><img src="images/icon-infobox.png" alt="Image"></figure>
                <p>Personnel deliver bespoke
                  solutions that are designed
                  to increase speed to market, <strong>simplify inventory</strong> management,
                  streamline product flow and
                  drive down costs.</p>
              </div>
              <!-- end info-box -->
              <img src="images/side-image02.jpg" alt="Image">
            </figure>
          </div>
          <!-- end col-6 -->
        </div>
        <!-- end row -->
      </div>
      <!-- end container -->
    </section>
    <!-- end content-section -->
    <section class="content-section dark-overlay" data-background="images/section-bg-01.jpg">
      <div class="container">
        <div class="row">
          <div class="col-12">
            <div class="cta-bar">
              <h2>Local and regional delivery services</h2>
              <p>We’re one of the Kenya’s leading shipping and logistics providers.</p>
              <a href="#shipment-form" class="custom-button">Get A Quote</a> <a href="#" class="light-button">Track
                Package</a>
            </div>
            <!-- end cta-bar -->
          </div>
          <!-- end col-12 -->
        </div>
        <!-- end row -->
      </div>
      <!-- end container -->
    </section>
    <!-- end content-section -->
    <section class="content-section bg-half" style="display: none;">
      <div class="container">
        <div class="row align-items-center">
          <div class="col-lg-5">
            <div class="testimonials-slider">
              <div class="swiper-wrapper">
                <div class="swiper-slide">
                  <div class="testimonial">
                    <p>As a first time importer from the Far
                      East, the process can be quite daunting.
                      John Good has provided exceptional
                      service and support right through
                      the process.</p>
                    <h6>Steve Macholnad </h6>
                    <small>Manager Smart Move LTD</small>
                  </div>
                  <!-- end testimonial -->
                </div>
                <!-- end swiper-slide -->
                <div class="swiper-slide">
                  <div class="testimonial">
                    <p>As a first time importer from the Far
                      East, the process can be quite daunting.
                      John Good has provided exceptional
                      service and support right through
                      the process.</p>
                    <h6>Joshua Olenik</h6>
                    <small>Sales Team Acrostishe </small>
                  </div>
                  <!-- end testimonial -->
                </div>
                <!-- end swiper-slide -->
                <div class="swiper-slide">
                  <div class="testimonial">
                    <p>As a first time importer from the Far
                      East, the process can be quite daunting.
                      John Good has provided exceptional
                      service and support right through
                      the process.</p>
                    <h6>Jack Abraham</h6>
                    <small>Director of Envato LLC</small>
                  </div>
                  <!-- end testimonial -->
                </div>
                <!-- end swiper-slide -->
              </div>
              <!-- end swiper-wrapper -->
              <div class="swiper-pagination"></div>
              <!-- end swiper-pagination -->
            </div>
            <!-- end testimonials-slider -->
          </div>
          <!-- end col-6 -->
          <div class="col-lg-6 offset-lg-1">
            <div class="section-title">
              <h2>Trusted By Some
                The World's Companies
                for over 180 years</h2>
            </div>
            <!-- end section-title -->
            <div class="row inner">
              <div class="col-6">
                <figure class="logo-item"> <img src="images/logo01.jpg" alt="Image"> </figure>
                <!-- end logo-item -->
              </div>
              <!-- end col-6 -->
              <div class="col-6">
                <figure class="logo-item"> <img src="images/logo02.jpg" alt="Image"> </figure>
                <!-- end logo-item -->
              </div>
              <!-- end col-6 -->
              <div class="col-6">
                <figure class="logo-item"> <img src="images/logo03.jpg" alt="Image"> </figure>
                <!-- end logo-item -->
              </div>
              <!-- end col-6 -->
              <div class="col-6">
                <figure class="logo-item"> <img src="images/logo04.jpg" alt="Image"> </figure>
                <!-- end logo-item -->
              </div>
              <!-- end col-6 -->
            </div>
            <!-- end row -->
          </div>
          <!-- end col-6 -->
        </div>
        <!-- end row -->
      </div>
      <!-- end container -->
    </section>
    <!-- end content-section -->
    <footer class="footer">
      <div class="container">
        <div class="row">
          <div class="col-lg-4 col-md-6">
            <figure class="logo"> <img src="images/logo.7ff27d68.png" srcset="images/logo.7ff27d68.png" alt="Image">
            </figure>
            <p>+254 (0) 23 00 006<br>
              <a href="#">sales@modernmail.co.ke</a>
            </p>
            <p>2075 Industrial Area <br>
              Nairobi - Kenya</p>
          </div>
          <!-- end col-4 -->
          <div class="col-lg-4 col-md-6">
            <h6 class="widget-title">Quick Links</h6>
            <ul class="footer-menu">
              <li><a href="#">Home</a></li>
              <li><a href="#">Tracking</a></li>
              <li><a href="#">Contact Us</a></li>
            </ul>
          </div>
          <!-- end col-4 -->
          <div class="col-lg-4">
            <h6 class="widget-title">Subscribe Newsletter</h6>
            <form>
              <input type="email" placeholder="enter your email address...."
                class="w-full px-3 py-2 placeholder-gray-300 border border-gray-300 focus:outline-none focus:ring focus:ring-indigo-100 focus:border-indigo-300 dark:bg-gray-700 dark:text-white dark:placeholder-gray-500 dark:border-gray-600 dark:focus:ring-gray-900 dark:focus:border-gray-500">
              <input type="submit" value="Subscribe"
                class="px-4 py-2 text-white bg-blue focus:bg-indigo-600 focus:outline-none">
            </form>
          </div>
          <!-- end col-4 -->
          <div class="col-12">
            <div class="footer-bottom">
              <span>&copy; 2021 Modern Mail | Delivery Service Company</span>
              <span>Help</span>
            </div>
            <!-- end footer-bottom -->
          </div>
          <!-- end col-12 -->
        </div>
        <!-- end row -->
      </div>
      <!-- end container -->
    </footer>
    <!-- end footer -->

    <div class="custom-modal">

      <div class="modal fade" data-keyboard="false" id="loginModal" tabindex="-1" role="dialog"
        aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
          <div class="modal-content">
            <div class="modal-header border-bottom-0">
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">

              <!-- LOGIN FORM -->

              <div id="login-form" v-if="activeAccountForm == 'login'">

                <div class="form-title text-center">
                  <h4>Login</h4>
                </div>
                <div class="d-flex flex-column">

                  <form method="post" @submit.prevent="login()">

                    <div class="input-wrapper mb-4">
                      <label clas="block text-sm text-gray-600 dark:text-gray-400 mb-3">Email:</label>
                      <input v-model="mainForm.username" :disable="mainFormSuccess" type="email"
                        placeholder="e.g. jumabalala@gmail.com" required
                        class="w-full px-3 py-2 placeholder-gray-300 border border-gray-300 focus:outline-none focus:ring focus:ring-indigo-100 focus:border-indigo-300 dark:bg-gray-700 dark:text-white dark:placeholder-gray-500 dark:border-gray-600 dark:focus:ring-gray-900 dark:focus:border-gray-500">
                    </div>

                    <div class="input-wrapper mb-6">
                      <label clas="block text-sm text-gray-600 dark:text-gray-400 mb-3">Password:</label>
                      <input v-model="mainForm.password" type="password" :disable="mainFormSuccess" required
                        placeholder="e.g. XXXXXXXX"
                        class="w-full px-3 py-2 placeholder-gray-300 border border-gray-300 focus:outline-none focus:ring focus:ring-indigo-100 focus:border-indigo-300 dark:bg-gray-700 dark:text-white dark:placeholder-gray-500 dark:border-gray-600 dark:focus:ring-gray-900 dark:focus:border-gray-500">
                    </div>

                    <div role="alert" class="mb-6" v-if="mainFormSubmitted">
                      <div
                        :class="{'border rounded-b px-4 py-3':true, 'border-red-400 bg-red-100 text-red-700':mainFormHasError, 'border-green-400 bg-green-100 text-green-700':mainFormSuccess}">
                        <p v-html="mainFormMessage"></p>
                      </div>
                    </div>

                    <div class="mb-6">
                      <button type="submit" v-if="!mainFormSuccess"
                        class="px-4 py-2 text-white bg-blue hover:opacity-50 focus:bg-indigo-600 focus:outline-none">Login</button>
                      <div class="my-6">
                        <div class="mb-2">
                          <a href="#" @click.prevent="showAccountForm('register')" class="inline-block">I
                            don't have an
                            account?</a>
                        </div>
                        <div>
                          <a href="#" @click.prevent="showAccountForm('resetpassword')" class="inline-block">Forgot
                            Password?</a>
                        </div>
                      </div>
                    </div>
                  </form>

                </div>

              </div>

              <!-- REGISTER FORM -->

              <div id="register-form" v-if="activeAccountForm == 'register'">

                <div class="form-title text-center">
                  <h4>Sign Up</h4>
                </div>

                <div class="d-flex flex-column">

                  <form method="post" @submit.prevent="register()">

                    <div class="input-wrapper mb-4">
                      <label clas="block text-sm text-gray-600 dark:text-gray-400 mb-3">Name:</label>
                      <input autocomplete="hvbssf" v-model="mainFormRegister.customer_first_name"
                        :disable="mainFormRegisterSuccess" type="text" placeholder="e.g. Juma Balala" required
                        class="w-full px-3 py-2 placeholder-gray-300 border border-gray-300 focus:outline-none focus:ring focus:ring-indigo-100 focus:border-indigo-300 dark:bg-gray-700 dark:text-white dark:placeholder-gray-500 dark:border-gray-600 dark:focus:ring-gray-900 dark:focus:border-gray-500">
                    </div>

                    <div class="input-wrapper mb-6">
                      <label clas="block text-sm text-gray-600 dark:text-gray-400 mb-3">Email:</label>
                      <input autocomplete="hvbssfsd" v-model="mainFormRegister.customer_email"
                        :disable="mainFormRegisterSuccess" type="email" placeholder="e.g. jumabalala@gmail.com" required
                        class="w-full px-3 py-2 placeholder-gray-300 border border-gray-300 focus:outline-none focus:ring focus:ring-indigo-100 focus:border-indigo-300 dark:bg-gray-700 dark:text-white dark:placeholder-gray-500 dark:border-gray-600 dark:focus:ring-gray-900 dark:focus:border-gray-500">
                    </div>

                    <div class="input-wrapper mb-6">
                      <label clas="block text-sm text-gray-600 dark:text-gray-400 mb-3">Mobile
                        Phone:</label>
                      <input autocomplete="hvbssssf" v-model="mainFormRegister.customer_phone_number"
                        :disable="mainFormRegisterSuccess" type="tel" placeholder="e.g. 07XXXXXXXX" required
                        class="w-full px-3 py-2 placeholder-gray-300 border border-gray-300 focus:outline-none focus:ring focus:ring-indigo-100 focus:border-indigo-300 dark:bg-gray-700 dark:text-white dark:placeholder-gray-500 dark:border-gray-600 dark:focus:ring-gray-900 dark:focus:border-gray-500">
                    </div>

                    <div class="input-wrapper mb-6">
                      <label clas="block text-sm text-gray-600 dark:text-gray-400 mb-3">Password:</label>
                      <input autocomplete="hvbssfss" v-model="mainFormRegister.password" type="password"
                        :disable="mainFormRegisterSuccess" required placeholder="e.g. XXXXXXXX"
                        class="w-full px-3 py-2 placeholder-gray-300 border border-gray-300 focus:outline-none focus:ring focus:ring-indigo-100 focus:border-indigo-300 dark:bg-gray-700 dark:text-white dark:placeholder-gray-500 dark:border-gray-600 dark:focus:ring-gray-900 dark:focus:border-gray-500">
                    </div>

                    <div class="input-wrapper mb-6">
                      <label clas="block text-sm text-gray-600 dark:text-gray-400 mb-3">Confirm
                        Password:</label>
                      <input autocomplete="hvbssfs" v-model="mainFormRegister.password_confirmation"
                        :disable="mainFormRegisterSuccess" type="password" placeholder="e.g. XXXXXXXX" required
                        class="w-full px-3 py-2 placeholder-gray-300 border border-gray-300 focus:outline-none focus:ring focus:ring-indigo-100 focus:border-indigo-300 dark:bg-gray-700 dark:text-white dark:placeholder-gray-500 dark:border-gray-600 dark:focus:ring-gray-900 dark:focus:border-gray-500">
                    </div>


                    <div role="alert" class="mb-6" v-if="mainFormRegisterSubmitted">
                      <div
                        :class="{'border rounded-b px-4 py-3':true, 'border-red-400 bg-red-100 text-red-700':mainFormRegisterHasError, 'border-green-400 bg-green-100 text-green-700':mainFormRegisterSuccess}">
                        <p v-html="mainFormRegisterMessage"></p>
                      </div>
                    </div>

                    <div class="mb-6">
                      <button type="submit" v-if="!mainFormRegisterSuccess"
                        class="px-4 py-2 text-white bg-blue hover:opacity-50 focus:bg-indigo-600 focus:outline-none">Register</button>

                      <div class="my-6">
                        <a href="#" @click.prevent="showAccountForm('login')" class="inline-block">Already
                          have an account?</a>
                      </div>
                    </div>

                  </form>
                </div>
              </div>

              <!-- RESET PASSWOR FORM -->

              <div id="reset-password-form" v-if="activeAccountForm == 'resetpassword'">

                <div v-if="showSendVerifyCode">

                  <div class="form-title text-center">
                    <h4>Forgot Password</h4>
                  </div>

                  <div class="d-flex flex-column">

                    <form method="post" autocomplete="off" @submit.prevent="sendResetCode()">

                      <div class="input-wrapper mb-6">
                        <label clas="block text-sm text-gray-600 dark:text-gray-400 mb-3">Email:</label>
                        <input autocomplete="username" id="username" v-model="mainFormPasswordReset.username"
                          type="email" placeholder="e.g. jumabalala@gmail.com" required
                          class="w-full px-3 py-2 placeholder-gray-300 border border-gray-300 focus:outline-none focus:ring focus:ring-indigo-100 focus:border-indigo-300 dark:bg-gray-700 dark:text-white dark:placeholder-gray-500 dark:border-gray-600 dark:focus:ring-gray-900 dark:focus:border-gray-500">
                      </div>

                      <div role="alert" class="mb-6" v-if="mainFormPasswordResetSubmitted">
                        <div
                          :class="{'border rounded-b px-4 py-3':true, 'border-red-400 bg-red-100 text-red-700':mainFormPasswordResetHasError, 'border-green-400 bg-green-100 text-green-700':mainFormPasswordResetSuccess}">
                          <p v-html="mainFormPasswordResetMessage"></p>
                        </div>
                      </div>

                      <div class="mb-6">
                        <button type="submit"
                          class="px-4 py-2 text-white bg-blue hover:opacity-50 focus:bg-indigo-600 focus:outline-none">Send
                          reset code</button>
                        <div class="my-6">
                          <div class="mb-2">
                            <a href="#" class="inline-block" @click.prevent="showAccountForm('register')">I don't have
                              an
                              account?</a>
                          </div>
                          <div>
                            <a href="#" class="inline-block" @click.prevent="showAccountForm('login')">Login</a>
                          </div>
                        </div>
                      </div>
                    </form>

                  </div>

                </div>

                <div v-if="showVerifyCodeForm">
                  <div class="form-title text-center">
                    <h4>Forgot Password</h4>
                  </div>

                  <div class="d-flex flex-column">

                    <form method="post" autocomplete="off" @submit.prevent="resetPassword()">

                      <p class="mb-4 font-bold" v-html="mainFormPasswordResetMessage"></p>

                      <div class="input-wrapper mb-4">
                        <label for="code" clas="block text-sm text-gray-600 dark:text-gray-400 mb-3">Enter
                          reset code:</label>
                        <input autocomplete="code" id="code" v-model="verifyCodeFormData.code" type="text"
                          placeholder="******" required
                          class="w-full px-3 py-2 placeholder-gray-300 border border-gray-300 focus:outline-none focus:ring focus:ring-indigo-100 focus:border-indigo-300 dark:bg-gray-700 dark:text-white dark:placeholder-gray-500 dark:border-gray-600 dark:focus:ring-gray-900 dark:focus:border-gray-500">
                      </div>

                      <div class="input-wrapper mb-4">
                        <label for="pass" clas="block text-sm text-gray-600 dark:text-gray-400 mb-3">New
                          Password:</label>
                        <input autocomplete="pass" id="pass" v-model="verifyCodeFormData.password" type="password"
                          placeholder="********" required
                          class="w-full px-3 py-2 placeholder-gray-300 border border-gray-300 focus:outline-none focus:ring focus:ring-indigo-100 focus:border-indigo-300 dark:bg-gray-700 dark:text-white dark:placeholder-gray-500 dark:border-gray-600 dark:focus:ring-gray-900 dark:focus:border-gray-500">
                      </div>

                      <div class="input-wrapper mb-6">
                        <label clas="block text-sm text-gray-600 dark:text-gray-400 mb-3">Confirm
                          Password:</label>
                        <input v-model="verifyCodeFormData.password_confirmation" type="password" placeholder="********"
                          required
                          class="w-full px-3 py-2 placeholder-gray-300 border border-gray-300 focus:outline-none focus:ring focus:ring-indigo-100 focus:border-indigo-300 dark:bg-gray-700 dark:text-white dark:placeholder-gray-500 dark:border-gray-600 dark:focus:ring-gray-900 dark:focus:border-gray-500">
                      </div>

                      <div role="alert" class="mb-6" v-if="verifyCodeForm.submitted">
                        <div
                          :class="{'border rounded-b px-4 py-3':true, 'border-red-400 bg-red-100 text-red-700':verifyCodeForm.hasError, 'border-green-400 bg-green-100 text-green-700':verifyCodeForm.success}">
                          <p v-html="verifyCodeForm.message"></p>
                        </div>
                      </div>

                      <div class="mb-6">
                        <button type="submit" v-if="!verifyCodeForm.success"
                          class="px-4 py-2 text-white bg-blue hover:opacity-50 focus:bg-indigo-600 focus:outline-none">Reset
                          Password</button>
                        <div class="my-6">
                          <div class="mb-2" v-if="!verifyCodeForm.success">
                            <a href="#" @click.prevent="resendCode" class="inline-block">I
                              didn't get the code!</a>
                          </div>
                          <div class="mb-2">
                            <a href="#" @click.prevent="showAccountForm('login')" class="inline-block">Login</a>
                          </div>
                          <div>
                            <a href="#" @click.prevent="showAccountForm('register')" class="inline-block">I don't have
                              an
                              account?</a>
                          </div>
                        </div>
                      </div>
                    </form>

                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

      </div>

    </div>

    <!-- JS FILES -->
    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/fancybox.min.js"></script>
    <script src="js/swiper.min.js"></script>
    <!-- <script src="js/odometer.min.js"></script> -->
    <script src="js/imagesloaded.pkgd.min.js"></script>
    <script src="js/isotope.min.js"></script>
    <script src="js/scripts.js"></script>

    <!-- <script async
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBAsCqUBEJP6IzI4o2UTkCaCU2ZC78C9HU&libraries=places&callback=initMapVue"></script> -->

    <script src="https://cdn.jsdelivr.net/npm/js-cookie@rc/dist/js.cookie.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://unpkg.com/vue-select@latest"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.6.12/vue.min.js"></script>

    <script async>

      window.checkAndAttachMapScript = function (callback) {
        if (!!window.google) {  // If you're using vue cli, then directly checking
          // 'google' obj will throw an error at the time of transpiling.
          callback();
          return true;
        }

        window.mapApiInitialized = callback;
        let script = document.createElement('script');
        script.src = 'https://maps.googleapis.com/maps/api/js?key=AIzaSyBAsCqUBEJP6IzI4o2UTkCaCU2ZC78C9HU&libraries=places&callback=mapApiInitialized';
        document.body.appendChild(script);
      }

    </script>


    <script>

      Vue.component("v-select", VueSelect.VueSelect);

      var app = new Vue({
        el: "#app",
        data() {
          return {
            appName: "App Name",
            isUserLoggedIn: false,
            parcelPrice: 0,
            priceForm: {
              town_from_id: 0,
              town_to_id: 0,
              weight: null,
            },
            formSection: 1,
            listItems: [
              {
                "id": 1,
                "description": {
                  "id": 1,
                  "description": "Your Own Package",
                  "qty": 1,
                  "height": 0,
                  "width": 0,
                  "length": 0,
                  "weight": 0,
                  "box_prefix": 0,
                  "use_barcode": 0,
                  "diameter": 0,
                  "photo": null
                },
                "qty": 1,
                "height": 0,
                "width": 0,
                "length": 0,
                "weight": 0,
                "box_prefix": 0,
                "use_barcode": 0,
                "diameter": 0,
                "photo": null
              }
            ],
            countries: [],
            towns: [],
            towns_to: [],
            form: {
              from: {
                "country": "",
                "town": null,
                "address": null
              },
              to: {
                "country": "",
                "town": null,
                "address": null
              },
              packageType: "Document",
              shippingDate: ""
            },
            deliveryOptions: [
              {
                "title": "Drop off",
                "estimated_delivery_date": "Tue, 30 March, 2021",
                "total_charge": 15975.00,
                "currency": "KES",
                "details": { "transportation_charges": 4590.52, "discount": 0, "VAT": 1466.96, "total": 15975.00 },
                "button_cta": "Ship Now",
                "tips": [
                  "No account required",
                  "Simple pricing based on free DHL envelopes and boxes",
                  "Ideal for single parcels",
                  "Convenient opening hours",
                  "Delivery notifications available"
                ]
              }
            ],
            packages: [],
            orderRequestData: {
              'customer_id': null,
              'recipient_id': null,
              "order_channel_id": 3,
              'corporate_customer_id': null,
              'time_taken': 5,
              "recipient_type": "normal",
              'recipient_id': null,
              'town_to_id': null,
              'town_from_id': null,
              'customer': {
                'customer_name': "",
                'customer_phone_number': "",
                'customer_id_number': "",
                'customer_street_address': "",
                'coordinates': "",
              },
              'recipient': {
                'recipient_name': "",
                'recipient_phone_number': "",
                'customer_id_number': "",
                'recipient_id_number': 1,
              },
              'shipment_items': [
                {
                  'category_id': null,
                  'quantity': null,
                  'description': null
                }
              ],
              'currency_id': 1,
              'order_total': null,
            },
            total: {
              weight: 0,
              quantity: 0,
              quote_price: 0
            },
            mainForm: {
              "username": null,
              "password": null
            },
            mainFormSubmitted: false,
            mainFormHasError: false,
            mainFormSuccess: false,
            mainFormMessage: "",
            mainFormRegister: {
              "customer_first_name": null,
              "customer_phone_number": null,
              "customer_phone_code": "254",
              "customer_email": "",
              "password": null,
              "password_confirmation": null
            },
            mainFormRegisterSubmitted: false,
            mainFormRegisterHasError: false,
            mainFormRegisterSuccess: false,
            mainFormRegisterMessage: "",
            mainFormPasswordReset: {
              "username": null
            },
            verifyCodeFormData: {
              "username": null,
              "password": null,
              "password_confirmation": null,
              "code": null,
            },
            mainFormPasswordResetSubmitted: false,
            mainFormPasswordResetHasError: false,
            mainFormPasswordResetSuccess: false,
            mainFormPasswordResetMessage: "",
            verifyCodeForm: {
              title: "",
              submitted: false,
              hasError: false,
              success: false,
              message: "",
            },
            showSendVerifyCode: true,
            showVerifyCodeForm: false,
            showResetPasswordForm: false,
            activeAccountForm: "login",

            orderFormSubmitted: false,
            orderFormHasError: false,
            orderFormSuccess: false,
            orderFormMessage: "",
          }
        },
        created() {
          console.log('Created')
          this.getCountries()
        },
        mounted() {
          window.checkAndAttachMapScript(this.initLocationSearch);
        },
        beforeMount() {
          if (Cookies.get('access_token') !== undefined) {
            this.isUserLoggedIn = true
            this.getUserInfo(Cookies.get('access_token'))
            //this.getShipments(Cookies.get('access_token'))
          }
        },
        beforeCreate() {
          if (Cookies.get('access_token') !== undefined || Cookies.get('access_token') !== "") {
            //redirect to accoutn page
          }
        },
        methods: {
          openModal(form) {
            $("#loginModal").modal();

            if (typeof form !== 'undefined') {
              this.showAccountForm = form
            }

          },
          closeModal() {
            $("#loginModal").modal("hide");
          },
          showAccountForm(form) {
            //login, register, resetpassword
            this.activeAccountForm = form;
          },
          login() {
            let self = this

            self.onMainFormReset()

            let axiosHeaders = {
              headers: { "Content-Type": "application/json" },
            };
            let url = "https://courierapi.techapiguru.com/api/v2/login";
            axios.post(url, this.mainForm, axiosHeaders)
              .then((response) => {
                if (response.data.access_token == null) {
                  self.onMainFormError("Login failed, try again!")
                } else {
                  Cookies.set('access_token', response.data.access_token, { expires: response.data.expires_in })
                  self.onMainFormSuccess("Login successful")
                  //close modal
                  this.closeModal()
                  //call init
                  this.getUserInfo(response.data.access_token)
                }
              })
              .catch((err) => {
                if (err.response.data.message) {
                  if (err.response.data.errors) {
                    let errors = err.response.data.errors
                    let str = ''
                    Object.keys(errors).forEach(key => {
                      errors[key].forEach(error => {
                        str += `${error} <br/>`
                      })
                    })
                    self.onMainFormError(str)
                  } else {
                    self.onMainFormError(err.response.data.message)
                  }
                } else {
                  self.onMainFormError("Login failed, try again!")
                }
              });
          },
          onMainFormError(msg) {
            this.mainFormSubmitted = true;
            this.mainFormHasError = true;
            this.mainFormSuccess = false;
            this.mainFormMessage = msg;
          },
          onMainFormSuccess(msg) {
            this.mainFormSubmitted = true;
            this.mainFormHasError = false;
            this.mainFormSuccess = true;
            this.mainFormMessage = `${msg} <a href="./account.html" class="underline font-bold">My Account</a>`;
          },
          onMainFormReset() {
            this.mainFormSubmitted = false;
            this.mainFormHasError = false;
            this.mainFormSuccess = false;
            this.mainFormMessage = "";
          },
          register() {
            let self = this

            self.onmainFormRegisterReset()

            if (self.mainFormRegister.password !== self.mainFormRegister.password_confirmation) {
              self.onmainFormRegisterError("Password do not match!")
              return
            }

            let axiosHeaders = {
              headers: { "Content-Type": "application/json" },
            };
            let url = "https://courierapi.techapiguru.com/api/v2/register";
            axios.post(url, this.mainFormRegister, axiosHeaders)
              .then((response) => {
                if (response.data.access_token == null) {
                  self.onmainFormRegisterError("Registration failed, try again!")
                } else {

                  Cookies.set('access_token', response.data.access_token, { expires: response.data.expires_in })
                  self.onmainFormRegisterSuccess("Registration successful")
                  //close modal
                  this.closeModal();
                  //call init
                  this.getUserInfo(response.data.access_token);

                }
              })
              .catch((err) => {
                if (err.response.data.message) {
                  if (err.response.data.errors) {
                    let errors = err.response.data.errors
                    let str = ''
                    Object.keys(errors).forEach(key => {
                      errors[key].forEach(error => {
                        str += `${error} <br/>`
                      })
                    })
                    self.onmainFormRegisterError(str)
                  } else {
                    self.onmainFormRegisterError(err.response.data.message)
                  }
                } else {
                  self.onmainFormRegisterError("Registration failed, try again!")
                }
              });
          },
          onmainFormRegisterError(msg) {
            this.mainFormRegisterSubmitted = true;
            this.mainFormRegisterHasError = true;
            this.mainFormRegisterSuccess = false;
            this.mainFormRegisterMessage = msg;
          },
          onmainFormRegisterSuccess(msg) {
            this.mainFormRegisterSubmitted = true;
            this.mainFormRegisterHasError = false;
            this.mainFormRegisterSuccess = true;
            this.mainFormRegisterMessage = `${msg}`;
          },
          onmainFormRegisterReset() {
            this.mainFormRegisterSubmitted = false;
            this.mainFormRegisterHasError = false;
            this.mainFormRegisterSuccess = false;
            this.mainFormRegisterMessage = "";
          },
          sendResetCode() {
            let self = this

            self.onmainFormPasswordResetReset()

            let axiosHeaders = {
              headers: { "Content-Type": "application/json" },
            };
            let url = "https://courierapi.techapiguru.com/api/v2/request-password-reset ";
            axios.post(url, this.mainFormPasswordReset, axiosHeaders)
              .then((response) => {
                console.log(response)
                if (!response.data.success) {
                  self.onmainFormPasswordResetError("Could not reset your password, try again!")
                } else {
                  self.showSendVerifyCode = false
                  self.showVerifyCodeForm = true
                  self.onmainFormPasswordResetSuccess(response.data.message)
                }
              })
              .catch((err) => {
                if (err.response.data.message) {
                  if (err.response.data.errors) {
                    let errors = err.response.data.errors
                    let str = ''
                    Object.keys(errors).forEach(key => {
                      errors[key].forEach(error => {
                        str += `${error} <br/>`
                      })
                    })
                    self.onmainFormPasswordResetError(str)
                  } else {
                    self.onmainFormPasswordResetError(err.response.data.message)
                  }
                } else {
                  self.onmainFormPasswordResetError("Login failed, try again!")
                }
              });
          },
          onmainFormPasswordResetError(msg) {
            this.mainFormPasswordResetSubmitted = true;
            this.mainFormPasswordResetHasError = true;
            this.mainFormPasswordResetSuccess = false;
            this.mainFormPasswordResetMessage = msg;
          },
          onmainFormPasswordResetSuccess(msg) {
            this.mainFormPasswordResetSubmitted = true;
            this.mainFormPasswordResetHasError = false;
            this.mainFormPasswordResetSuccess = true;
            this.mainFormPasswordResetMessage = `${msg}`;
          },
          onmainFormPasswordResetReset() {
            this.mainFormPasswordResetSubmitted = false;
            this.mainFormPasswordResetHasError = false;
            this.mainFormPasswordResetSuccess = false;
            this.mainFormPasswordResetMessage = "";
          },
          resendCode() {
            let self = this

            self.verifyCodeForm = {
              submitted: false,
              hasError: false,
              success: false,
              message: "",
            };

            self.onmainFormPasswordResetReset()

            self.showSendVerifyCode = true
            self.showVerifyCodeForm = false

          },
          resetPassword() {
            let self = this

            self.verifyCodeForm = {
              submitted: false,
              hasError: false,
              success: false,
              message: "",
            };

            if (self.verifyCodeFormData.password !== self.verifyCodeFormData.password_confirmation) {
              self.verifyCodeForm.submitted = true
              self.verifyCodeForm.hasError = true
              self.verifyCodeForm.message = "Password do not match!"
              return
            }

            self.verifyCodeFormData.username = self.mainFormPasswordReset.username

            let axiosHeaders = {
              headers: { "Content-Type": "application/json" },
            };
            let url = "https://courierapi.techapiguru.com/api/v2/send-password-reset";
            axios.post(url, self.verifyCodeFormData, axiosHeaders)
              .then((response) => {
                self.verifyCodeForm.submitted = true
                if (!response.data.success) {
                  self.verifyCodeForm.hasError = true
                  self.verifyCodeForm.message = "Could not reset your password, try again!"
                } else {
                  self.verifyCodeForm.hasError = false
                  self.verifyCodeForm.success = true
                  self.verifyCodeForm.message = `${response.data.message}  <a href="./login.html" class="underline font-bold">Login</a>`
                }
              })
              .catch((err) => {
                self.verifyCodeForm.submitted = true
                if (err.response.data.message) {
                  if (err.response.data.errors) {
                    let errors = err.response.data.errors
                    let str = ''
                    Object.keys(errors).forEach(key => {
                      errors[key].forEach(error => {
                        str += `${error} <br/>`
                      })
                    })
                    self.verifyCodeForm.hasError = true
                    self.verifyCodeForm.success = false
                    self.verifyCodeForm.message = str
                  } else {
                    self.verifyCodeForm.hasError = true
                    self.verifyCodeForm.success = false
                    self.verifyCodeForm.message = err.response.data.message
                  }
                } else {
                  self.verifyCodeForm.submitted = true
                  self.verifyCodeForm.hasError = true
                  self.verifyCodeForm.success = false
                  self.verifyCodeForm.message = "Could not reset your password, try again!"
                }
              });
          },
          makeOrder() {

            //make sure user is loggedin

            if (!this.isUserLoggedIn) {
              //show modal
              this.openModal();
              this.showAccountForm = 'login'
              return;
            }

            //set towns

            this.orderRequestData.town_from_id = this.form.from.town.id
            this.orderRequestData.town_to_id = this.form.to.town.id
            this.orderRequestData.order_total = this.total.quote_price

            let shipments = []
            this.listItems.forEach(item => {
              let obj = {}
              obj.category_id = item.id
              obj.quantity = item.qty
              obj.description = item.description.description
              obj.weight = item.weight
              shipments.push(obj)
            });

            this.orderRequestData.shipment_items = shipments

            let token = Cookies.get('access_token')

            let axiosHeaders = {
              headers: {
                "Content-Type": "application/json",
                "Accept": "application/json",
              },
            };

            let url = "https://courierapi.techapiguru.com/api/v2/orders";

            if (this.total.weight <= 0) {
              alert("Warning: Weight is too low!")
              return
            }

            axios.post(url, this.orderRequestData, axiosHeaders)
              .then((response) => {
                if (response == null) {
                  this.onorderFormError("An error occurred, try again!")
                } else {
                  this.onorderFormSuccess("Your order has been received. You'll receive a confirmation message from Modern Mail.")
                }
              })
              .catch((err) => {
                if(typeof err.response == 'undefined') {
                  this.onorderFormError("Request failed, try again!")
                } else {
                if (err.response.data.message) {
                  if (err.response.data.errors) {
                    let errors = err.response.data.errors
                    let str = ''
                    Object.keys(errors).forEach(key => {
                      errors[key].forEach(error => {
                        str += `${error} <br/>`
                      })
                    })
                    this.onorderFormError(str)
                  } else {
                    this.onorderFormError(err.response.data.message)
                  }
                } else {
                  this.onorderFormError("Request failed, try again!")
                }
              }

              });

            //this.showFormSection(6)
          },
          onorderFormError(msg) {
            this.orderFormSubmitted = true;
            this.orderFormHasError = true;
            this.orderFormSuccess = false;
            this.orderFormMessage = msg;
          },
          onorderFormSuccess(msg) {
            this.orderFormSubmitted = true;
            this.orderFormHasError = false;
            this.orderFormSuccess = true;
            this.orderFormMessage = `${msg}`;
          },
          onorderFormReset() {
            this.orderFormSubmitted = false;
            this.orderFormHasError = false;
            this.orderFormSuccess = false;
            this.orderFormMessage = "";
          },
          updateTotalQty(val) {
            let total = 0
            this.listItems.forEach(item => {
              total = total + parseInt(item.qty)
            });
            this.total.quantity = total
          },
          updateTotalWeight(val) {
            let total = 0
            this.listItems.forEach(item => {
              total = total + parseFloat(item.weight)
            });
            this.total.weight = total
          },
          getQuote() {

            let token = Cookies.get('access_token')

            let axiosHeaders = {
              headers: {
                "Content-Type": "application/json",
                "Accept": "application/json",
              },
            };

            let url = "https://courierapi.techapiguru.com/api/v2/approximate-charge";

            if (this.total.weight <= 0) {
              alert("Waring: Weight is too low!")
              return
            }

            let data = {
              "town_from_id": this.form.from.town.id,
              "town_to_id": this.form.to.town.id,
              "weight": this.total.weight
            }

            axios.post(url, data, axiosHeaders)
              .then((response) => {
                if (response.data !== null) {
                  this.total.quote_price = response.data
                  this.showFormSection(4)
                }
              })
              .catch((err) => {
                if (err.response.data.message) {
                  if (err.response.data.errors) {
                    let errors = err.response.data.errors
                    let str = ''
                    Object.keys(errors).forEach(key => {
                      errors[key].forEach(error => {
                        str += `${error} <br/>`
                      })
                    })
                    alert(str)
                  } else {
                    alert(err.response.data.message)
                  }
                } else {
                  alert("Request failed, try again!")
                }

              });

          },
          loadPackageInfo(item, index) {
            console.log(item)

            this.listItems[index]["id"] = item.id;
            this.listItems[index]["qty"] = 1;
            this.listItems[index]["height"] = item.height;
            this.listItems[index]["width"] = item.width;
            this.listItems[index]["length"] = item.length;
            this.listItems[index]["weight"] = item.weight;
            this.listItems[index]["box_prefix"] = item.box_prefix;
            this.listItems[index]["use_barcode"] = item.use_barcode;
            this.listItems[index]["diameter"] = item.diameter;
            this.listItems[index]["photo"] = item.photo;

          },
          packageValue(item, index) {
            if (index == 0) {
              return item.description
            } else {
              return item.id
            }
          },
          onCountryFromChange() {
            this.towns = this.form.from.country.towns
          },
          onCountryToChange() {
            this.towns_to = this.form.to.country.towns
          },
          getShipments(token) {
            let axiosHeaders = {
              headers: {
                "Content-Type": "application/json",
                "Authorization": `Bearer ${token}`
              },
            };

            let filter = "?date_from=2021-01-01&date_to=2021-05-01"

            let url = "https://courierapi.techapiguru.com/api/v2/shipments" + filter;

            axios.get(url, axiosHeaders)
              .then((response) => {
                console.log(`Shipment`, response)
              })
              .catch((err) => {
                if (err.response.data.message) {
                  if (err.response.data.errors) {
                    let errors = err.response.data.errors
                    let str = ''
                    Object.keys(errors).forEach(key => {
                      errors[key].forEach(error => {
                        str += `${error} <br/>`
                      })
                    })
                    alert(str)
                  } else {
                    alert(err.response.data.message)
                  }
                } else {
                  alert("Request failed, try again!")
                }

              });
          },
          logout() {
            let x = confirm('Are you sure?')
            if (x) {
              Cookies.remove('access_token')
              this.isUserLoggedIn = false
            }
            return
          },
          getUserInfo(token) {
            //Automate

            let axiosHeaders = {
              headers: {
                "Content-Type": "application/json",
                "Authorization": `Bearer ${token}`
              },
            };

            let url = "https://courierapi.techapiguru.com/api/v2/init";

            axios.get(url, axiosHeaders)
              .then((response) => {
                this.isUserLoggedIn = true;
                let customer = response.data.auth_user
                this.orderRequestData.customer_id = customer.id
                this.orderRequestData.customer.customer_name = customer.customer_first_name
                this.orderRequestData.customer.customer_phone_number = customer.customer_phone_number
                this.orderRequestData.customer.customer_id_number = customer.customer_id_number
                this.orderRequestData.customer.customer_street_address = customer.customer_postal_address
                this.orderRequestData.customer.coordinates = customer.customer_postal_address
              })
              .catch((err) => {
                if (err.response.data.message) {
                  if (err.response.data.errors) {
                    let errors = err.response.data.errors
                    let str = ''
                    Object.keys(errors).forEach(key => {
                      errors[key].forEach(error => {
                        str += `${error} <br/>`
                      })
                    })
                    this.isUserLoggedIn = false
                    Cookies.remove('access_token')
                  } else {
                    this.isUserLoggedIn = false
                    Cookies.remove('access_token')
                  }
                } else {
                  this.isUserLoggedIn = false
                  Cookies.remove('access_token')
                }

              });
          },
          alert(msg) {
            alert(msg)
          },
          showFormSection(section) {
            this.formSection = section
            if (section == 3 && this.listItems.length == 1) {
              this.updateTotalQty(1)
            }
          },
          removeListItem(index) {
            this.listItems.splice(index, 1);
          },
          addNewListItemRow() {
            let item = {
              "id": 1,
              "description": {
                "id": 1,
                "description": "Your Own Package",
                "qty": 1,
                "height": 0,
                "width": 0,
                "length": 0,
                "weight": 0,
                "box_prefix": 0,
                "use_barcode": 0,
                "diameter": 0,
                "photo": null
              },
              "qty": 1,
              "height": 0,
              "width": 0,
              "length": 0,
              "weight": 0,
              "box_prefix": 0,
              "use_barcode": 0,
              "diameter": 0,
              "photo": null
            }
            this.listItems.push(item)
            this.updateTotalQty(1)
          },
          getMinDate() {
            var dt = new Date();
            dt.setDate(dt.getDate() + 5);
            return dt.getMonth() + "/" + dt.getDate() + "/" + dt.getFullYear()
          },
          getMaxDate() {
            var dt = new Date();
            dt.setDate(dt.getDate() + 0);
            return dt.getMonth() + "/" + dt.getDate() + "/" + dt.getFullYear()
          },
          getCountries() {

            let axiosHeaders = {
              headers: { "Content-Type": "application/json" },
            };

            let url = "https://courierapi.techapiguru.com/api/v2/countries";

            axios.get(url, axiosHeaders)
              .then((response) => {
                console.log(response)
                this.countries = response.data.countries
                this.packages = response.data.categories
              })
              .catch((err) => {
                console("Error", err);
                alert("Network error!")
              });

          },
          initLocationSearch() {
            let autocomplete = new window.google.maps.places.Autocomplete(this.$refs.mapSearchInput);
            autocomplete.addListener("place_changed", function () {
              let place = autocomplete.getPlace();
              // if (place && place.address_components) {
              //   console.log(place.address_components);
              // }
            });

            let autocomplete_2 = new window.google.maps.places.Autocomplete(this.$refs.mapSearchInput2);
            autocomplete_2.addListener("place_changed", function () {
              let place = autocomplete_2.getPlace();
            });

          }
        }
      })

    </script>
</body>

</html>